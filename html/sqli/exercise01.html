<!DOCTYPE html>
<html>
<head>
<!-- IE8+に対して「IE=edge」と指定することで、利用できる最も互換性の高い最新のエンジンを使用するよう指示できます
     参考: https://www.modern.ie/en-us/performance/how-to-use-x-ua-compatible -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">
 
<!-- ページのタイトルを記述 -->
<title>情報セキュリティ人材育成システムSecLearn</title>
 
<!-- パフォーマンスのために使用する文字のエンコーディングを記述
     参考: https://developers.google.com/speed/docs/best-practices/rendering#SpecifyCharsetEarly -->
<meta charset="utf-8">
 
<!-- content属性にページの紹介文を記述 -->
<meta name="description" content="Page for Learning Security">
 
<!-- content属性にページの著者情報を記述 -->
<meta name="author" content="Ryosuke Shimizu">
 
<!-- モバイル端末への対応、ページをビューポートの幅に合わせてレンダリング（Android, iOS6以降）
     ズームを許可しない設定「user-scalable=no」は加えない -->
<meta name="viewport" content="width=device-width, initial-scale=1">
 
<!-- スタイルシートはできるだけ早くレンダリングされるため、HTMLドキュメントの上の方に記述
     href属性にスタイルシートファイルのURIを記述 -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-7s5uDGW3AHqw6xtJmNNtr+OBRJUlgkNJEo78P4b0yRw= sha512-nNo+yCHEyn0smMxSswnf/OnX6/KwJuZTlNZBjauKhTK0c+zT+q5JOCx0UFhXQ6rJR9jg6Es8gPuD2uZcYDLqSw==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="css/exercise03.css">
<script type="text/javascript" src="js/Evaluate_0001.js"></script>

<!-- IE8以下用に2つのスクリプトを記述
     html5shiv.js: IE8以下にHTML5の要素を認識するようにさせる
     respond.js: IE8以下にMedia Queriesの代替え機能を提供 -->
<!--&#91;if lt IE 9&#93;>
<script src="//cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<!&#91;endif&#93;-->

<link type="text/css" rel="stylesheet"
  href="http://code.jquery.com/ui/1.10.3/themes/cupertino/jquery-ui.min.css" />


<!-- href属性にファビコンファイルのURIを記述 -->
<link rel="shortcut icon" href="../images/favicon.ico">
 
<!-- コメントアウトしてあるコードは、iOS/Android用のアイコン指定 -->
<!--
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="196x196" href="">
<link rel="apple-touch-icon" sizes="152x152" href="">
-->


<!-- for bootstrap -->

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha256-KXn5puMvxCw+dAYznun+drMdG1IFl3agK0p/pqT9KAo= sha512-2e8qq0ETcfWRI4HJBzQiA3UoyFk6tbNyG+qSaIBZLyW9Xf3sWZHN/lxe9fTh1U45DpPf07yj94KsUHHWe4Yk1A==" crossorigin="anonymous"></script>


<!-- スクリプトでブロッキングを起こさないものはここに記述
     可能であれば「async（文書の読み込みが完了した時点でスクリプトを実行）」を使用
     Example: <script src="" async></script> -->
<script type="text/javascript"
  src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<script type="text/javascript"
  src="http://code.jquery.com/ui/1.10.3/jquery-ui.min.js"></script>




</head>


<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-header">

        <!--ブランド名 ロゴ名の表示-->
        <a class="navbar-brand" href="#">SecLearn</a>


      </div>
  </nav>

<div id="container">

<div class="col-md-7">
  <!-- Breadcrumb -->
<ol class="breadcrumb">
  <li><a href="start.html">SQLインジェクション</a></li>
  <li class="active"><a href="#">演習</a></li>
  
</ol>

  <div id="main">
  <h2>webアプリのログインを想定して、管理者でログインしてください。</h2>
  <div id="drag_field">
    <button type="button" id="btn_start" class="btn btn-success"><span class="glyphicon glyphicon-play"></span>play</button><button type="button" id="btn_stop" class="btn btn-danger"><span class="glyphicon glyphicon-stop"></span>stop</button><button class="btn btn-warning" id="btn_reset" onclick="window.location.reload();"><span class="glyphicon glyphicon-fast-backward" aria-hidden="true"></span>リセットする</button>　ステップ数：<span id="step_cnt">0</span>
  </div>
  <p><strong>ID、パスワードをセットして、&quot;ログインボタン&quot;を押すとシミュレーションの準備を行います。</strong></p>
  <p>右のオレンジは　ヒントです。ドラッグ＆ドロップでいろいろなところに入れてみましょう</p>
  
  
     <div id="psuedo-browser" style="width:500px; height:250px; background-color:#e6e6fa; margin-bottom:10px; float:left; border-top:solid 4px #4169e1; border-bottom:solid 4px #4169e1; border-right:double 4px #4169e1; border-left:double 4px #4169e1; ">
       <div style="max-width:100%; border-bottom:solid 2px black"><label for:="url-form">URL:</form><input type="text" name="url-form" value="http://www.bank.com/login" /><button type="button"><span class="glyphicon glyphicon-arrow-right"></span></button> 擬似ブラウザ</div>
<div id="psuedo-browser-content">
<h1>ログインを行ってください</h1>
　　　 <p>銀行システムは　IDとパスワードでログインができます。</p>
      <form id="psuedo-loginform">
	<label for="id-form">ID:</label><input type="text" id="id-form" name="id-form" />
	<label for="pw-form">PASSWORD:</label><input type="text" id="pw-form" name="pw-form" />
	<button type="button" id="btn-login" class="btn btn-primary">ログイン</button>
      </form>
</div>
</div>

<div id="droppable-fields">
     <div id="input1" class="input-box">password</div>
     <div id="input2" class="input-box">OR</div>
     <div id="input3" class="input-box">AND</div>
     <div id="input4" class="input-box">'</div>
     <div id="input5" class="input-box">hidden</div>
     <div id="input6" class="input-box">;</div>
     <div id="input6" class="input-box">Bob</div>
     <div id="input7" class="input-box">';</div>
     <div id="input8" class="input-box">1=1</div>
     <div id="input9" class="input-box">--</div>
     <div id="input10" class="input-box">admin</div>
     <div id="input11" class="input-box">id</div>
     
  </div>

      

   
   <!-- ドラッグする要素置き場とDrop先を分けるため -->
   <div style="clear:both"></div>
  
  <div id="drops_field">
    <div class="drop" id="drop1">ブラウザ <img src="images/chrome_browser.png"></div>
    <div class="arrowbox">
      <div id="drag1"; class="dragbox">HTTPリクエスト<div class="dropindrag" id="dragdrop1">空</div><img src="images/arrow.png"></div>
     <div id="drag2"; class="dragbox">HTTPレスポンス<div class="dropindrag" id="dragdrop2">空</div><img class="reverse" src="images/arrow.png"></div></div>
    
    <div class="drop" id="drop2">アプリケーション</br>サーバ<img src="images/server.png"></div>
    <div class="arrowbox">
       <div id="drag3"; class="dragbox">SQL <div class="dropindrag" id="dragdrop3">空</div><img src="images/arrow.png"></div>
       <div id="drag6"; class="dragbox">ユーザに関する保存されていた情報<div class="dropindrag" id="dragdrop6">空</div><img class="reverse" src="images/arrow.png"></div>
       </div>
    
    <div class="drop" id="drop3">データベース<img src="images/database.png"></div>
  </div>
 
    </div>
  </div>

</div>
</div>
<div class="col-md-3">
  <h1>シミュレーションで実際に処理されている情報を表示します</h1>
    <style type="text/css">
   <!--
    .scope   {max-width:100%;box-sizing:border-box; background-color:#e0ffff; border: 1px solid blue}
    .scope p {margin:0px; font-size:small; padding-left:5px;}
     -->
    </style>
    <div class="scope" id="scope1";>
      <p>POST /index.html HTTP/1.1</p>
      <div class="scope-input" id="scope-input1">空</div>
    </div>
  <p style="align:center;max-width:100%; font-size:x-large">⇓</p>
  <div class="scope" id="scope2";><p>SQL文</p><p>SELECT * FROM USER_TABLE WHERE </p><div class="scope-input" id="scope-input2">ID="" AND PASSWORD=""</div></div>
  <p style="align:center;max-width:100%; font-size:x-large;">⇓</p>
  <div class="scope" id="scope3";><div class="scope-input" id="scope-input3">{USERLOGIN:"SUCCESS" ,ID:""}</div></div>
   <p style="align:center;max-width:100%; font-size:x-large;">⇓</p>
  <div class="scope" id="scope4">

<p>HTTP/1.1 200 OK</p>
<p>Date: Sun, 11 Jan 2004 16:06:23 GMT</p>
<p>Server: Apache/1.3.22 (Unix) (Red-Hat/Linux)</p>
<p>Last-Modified: Sun, 07 Dec 2003 12:34:18 GMT</p>
<p>ETag: "1dba6-131b-3fd31e4a"</p>
<p>Accept-Ranges: bytes</p>
<p>Content-Length: 4891</p>
<p>Keep-Alive: timeout=15, max=100</p>
<p>Connection: Keep-Alive</p>
<p>Content-Type: text/html</p>
</br>
<div class="scope-input" id="scope-input4">空</div>

</div>
</div>

<!--右側表示システム -->
<div class="col-md-2">
  <h3>ここにヒントや正不正解、フィードバックが表示されます</h3>
  <div id="right_message"></div>
</div>


</div>
<!-- 右フレーム -->

<!-- スクリプトでブロッキングを起こすものはここに記述
ブロッキングを起こす原因としては、CSSのセレクタ操作（IE）、負荷の高いDOM操作、多数のスクリプトなど -->
<!-- SCRIPTS -->
<!-- 例: <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> -->
<!-- Jquery -->
<script type="text/javascript" src="../js/debugger.js"></script>

<!-- debugger.jsの機能に追加して内部に値をセットできるようにしておく -->
<script type="text/javascript">
  $(function() {

  $("#btn_start").prop("disabled",true);
  
  $("#btn-login").click(function(){
    $("#btn_start").prop("disabled",false);
    alert("シミュレーションを行ってみましょう。playボタンを押してください");
  });

  $(".input-box").draggable({});
 $("#psuedo-loginform [name=id-form]").droppable({drop:function(e,ui){
  $(this).val($(this).val() + $("#"+ui.draggable.attr("id")).text());
  $("#"+ui.draggable.attr("id")).hide();
  }});

  $("#psuedo-loginform [name=pw-form]").droppable({drop:function(e,ui){
  $(this).val($(this).val() + $("#"+ui.draggable.attr("id")).text());
  $("#"+ui.draggable.attr("id")).hide();
  }});
  


});
</script>




</body>
</html>
